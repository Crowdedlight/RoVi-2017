#-----------------------------------------------------------
# Vivado v2017.2 (64-bit)
# SW Build 1909853 on Thu Jun 15 18:39:10 MDT 2017
# IP Build 1909766 on Thu Jun 15 19:58:00 MDT 2017
# Start of session at: Tue Oct 31 12:35:08 2017
# Process ID: 27826
# Current directory: /home/frederik/Documents/RoVi
# Command line: vivado
# Log file: /home/frederik/Documents/RoVi/vivado.log
# Journal file: /home/frederik/Documents/RoVi/vivado.jou
#-----------------------------------------------------------
start_gui
open_project /home/frederik/Documents/Rob_Electronics/lab3/lab3.xpr
update_compile_order -fileset sources_1
create_bd_design "design_1"
update_compile_order -fileset sources_1
open_bd_design {/home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/bd/design_1/design_1.bd}
create_bd_cell -type module -reference duty_module duty_module_0
create_bd_cell -type module -reference bldc_decoder bldc_decoder_0
create_bd_cell -type module -reference pwm_8bit pwm_8bit_0
set_property location {1.5 555 49} [get_bd_cells bldc_decoder_0]
set_property screensize {372 156} [get_bd_cells duty_module_0]
set_property location {1 126 71} [get_bd_cells duty_module_0]
set_property location {2 485 275} [get_bd_cells pwm_8bit_0]
set_property location {1 94 96} [get_bd_cells duty_module_0]
set_property location {2.5 790 28} [get_bd_cells bldc_decoder_0]
set_property location {3 636 239} [get_bd_cells pwm_8bit_0]
set_property location {1.5 601 238} [get_bd_cells pwm_8bit_0]
set_property location {2.5 812 32} [get_bd_cells bldc_decoder_0]
set_property location {1 -141 58} [get_bd_cells duty_module_0]
startgroup
connect_bd_net [get_bd_pins duty_module_0/duty_cycle_out] [get_bd_pins pwm_8bit_0/duty_cycle_in]
endgroup
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:processing_system7:5.5 processing_system7_0
endgroup
startgroup
set_property -dict [list CONFIG.PCW_FPGA1_PERIPHERAL_FREQMHZ {200} CONFIG.PCW_EN_CLK1_PORT {1}] [get_bd_cells processing_system7_0]
endgroup
startgroup
apply_bd_automation -rule xilinx.com:bd_rule:processing_system7 -config {make_external "FIXED_IO, DDR" apply_board_preset "1" Master "Disable" Slave "Disable" }  [get_bd_cells processing_system7_0]
endgroup
set_property location {2 488 -136} [get_bd_cells processing_system7_0]
startgroup
set_property -dict [list CONFIG.PCW_FPGA1_PERIPHERAL_FREQMHZ {200}] [get_bd_cells processing_system7_0]
endgroup
connect_bd_net [get_bd_pins processing_system7_0/FCLK_CLK1] [get_bd_pins bldc_decoder_0/clk_200M_in]
connect_bd_net [get_bd_pins processing_system7_0/FCLK_CLK1] [get_bd_pins pwm_8bit_0/clk_200M_in]
connect_bd_net [get_bd_pins processing_system7_0/FCLK_CLK1] [get_bd_pins duty_module_0/clk_200M_in]
set_property location {1 123 110} [get_bd_cells duty_module_0]
set_property location {1.5 262 98} [get_bd_cells duty_module_0]
make_wrapper -files [get_files /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/bd/design_1/design_1.bd] -top
connect_bd_net [get_bd_pins processing_system7_0/M_AXI_GP0_ACLK] [get_bd_pins processing_system7_0/FCLK_CLK0]
make_wrapper -files [get_files /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/bd/design_1/design_1.bd] -top
import_files -force -norecurse /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/bd/design_1/hdl/design_1_wrapper.v
update_compile_order -fileset sources_1
remove_files  /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/imports/hdl/design_1_wrapper.v
file delete -force /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/imports/hdl/design_1_wrapper.v
startgroup
make_bd_pins_external  [get_bd_pins duty_module_0/raw_signal_increment]
endgroup
startgroup
make_bd_pins_external  [get_bd_pins duty_module_0/raw_signal_decrement]
endgroup
startgroup
make_bd_pins_external  [get_bd_pins pwm_8bit_0/reset]
endgroup
connect_bd_net [get_bd_ports reset] [get_bd_pins bldc_decoder_0/reset_in]
close [ open /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/new/bldc_driver.vhd w ]
add_files /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/new/bldc_driver.vhd
update_compile_order -fileset sources_1
save_bd_design
create_bd_cell -type module -reference blcd_driver blcd_driver_0
set_property location {3.5 1379 21} [get_bd_cells blcd_driver_0]
set_property location {2 740 112} [get_bd_cells bldc_decoder_0]
set_property location {2 655 79} [get_bd_cells bldc_decoder_0]
set_property location {2.5 980 199} [get_bd_cells blcd_driver_0]
set_property location {3.5 1405 24} [get_bd_cells bldc_decoder_0]
set_property location {4 1267 20} [get_bd_cells bldc_decoder_0]
set_property location {3.5 1216 27} [get_bd_cells bldc_decoder_0]
connect_bd_net [get_bd_pins pwm_8bit_0/pwm_out] [get_bd_pins blcd_driver_0/pwm]
startgroup
make_bd_pins_external  [get_bd_pins blcd_driver_0/HallA]
endgroup
startgroup
make_bd_pins_external  [get_bd_pins blcd_driver_0/HallB]
endgroup
startgroup
make_bd_pins_external  [get_bd_pins blcd_driver_0/HallC]
endgroup
startgroup
make_bd_pins_external  [get_bd_pins blcd_driver_0/U_in]
endgroup
startgroup
make_bd_pins_external  [get_bd_pins blcd_driver_0/U_inh]
endgroup
startgroup
make_bd_pins_external  [get_bd_pins blcd_driver_0/V_in]
endgroup
startgroup
make_bd_pins_external  [get_bd_pins blcd_driver_0/V_inh]
endgroup
startgroup
make_bd_pins_external  [get_bd_pins blcd_driver_0/W_in]
endgroup
startgroup
make_bd_pins_external  [get_bd_pins blcd_driver_0/W_inh]
endgroup
set_property location {695 97} [get_bd_ports HallA]
set_property location {666 89} [get_bd_ports HallA]
set_property location {837 97} [get_bd_ports HallA]
set_property location {842 328} [get_bd_ports HallA]
set_property location {882 373} [get_bd_ports HallA]
set_property location {901 382} [get_bd_ports HallB]
set_property location {927 388} [get_bd_ports HallC]
set_property location {919 378} [get_bd_ports HallC]
startgroup
make_bd_pins_external  [get_bd_pins bldc_decoder_0/hall_in]
endgroup
set_property location {797 363} [get_bd_ports hall_in]
delete_bd_objs [get_bd_nets HallA_1] [get_bd_ports HallA]
delete_bd_objs [get_bd_nets HallB_1] [get_bd_ports HallB]
delete_bd_objs [get_bd_nets HallC_1] [get_bd_ports HallC]
set_property location {729 113} [get_bd_ports hall_in]
set_property location {797 401} [get_bd_ports hall_in]
save_bd_design
regenerate_bd_layout
set_property location {3 1052 550} [get_bd_cells bldc_decoder_0]
set_property location {792 640} [get_bd_ports hall_in]
save_bd_design
update_module_reference design_1_blcd_driver_0_0
connect_bd_net [get_bd_ports hall_in] [get_bd_pins blcd_driver_0/hall_in]
synth_design -rtl -name rtl_1
open_bd_design {/home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/bd/design_1/design_1.bd}
save_bd_design
make_wrapper -files [get_files /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/bd/design_1/design_1.bd] -fileset [get_filesets sources_1] -inst_template
set_property target_language VHDL [current_project]
close [ open /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/new/Lab3.vhd w ]
add_files /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/new/Lab3.vhd
update_compile_order -fileset sources_1
# Disabling source management mode.  This is to allow the top design properties to be set without GUI intervention.
set_property source_mgmt_mode None [current_project]
set_property top Lab3 [current_fileset]
# Re-enabling previously disabled source management mode.
set_property source_mgmt_mode All [current_project]
update_compile_order -fileset sources_1
open_bd_design {/home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/bd/design_1/design_1.bd}
update_compile_order -fileset sources_1
open_bd_design {/home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/bd/design_1/design_1.bd}
remove_files  /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/new/Lab3.vhd
update_compile_order -fileset sources_1
update_compile_order -fileset sources_1
startgroup
make_bd_pins_external  [get_bd_pins bldc_decoder_0/encoder_pos_out]
endgroup
make_wrapper -files [get_files /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/bd/design_1/design_1.bd] -top
add_files -norecurse /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/bd/design_1/hdl/design_1_wrapper.vhd
update_compile_order -fileset sources_1
# Disabling source management mode.  This is to allow the top design properties to be set without GUI intervention.
set_property source_mgmt_mode None [current_project]
set_property top design_1_wrapper [current_fileset]
# Re-enabling previously disabled source management mode.
set_property source_mgmt_mode All [current_project]
update_compile_order -fileset sources_1
generate_target all [get_files /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/bd/design_1/design_1.bd]
create_ip_run [get_files -of_objects [get_fileset sources_1] /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/bd/design_1/design_1.bd]
launch_runs design_1_duty_module_0_0_synth_1
wait_on_run design_1_duty_module_0_0_synth_1
launch_runs design_1_bldc_decoder_0_0_synth_1
wait_on_run design_1_bldc_decoder_0_0_synth_1
launch_runs design_1_pwm_8bit_0_0_synth_1
wait_on_run design_1_pwm_8bit_0_0_synth_1
launch_runs design_1_processing_system7_0_0_synth_1
wait_on_run design_1_processing_system7_0_0_synth_1
launch_runs design_1_blcd_driver_0_0_synth_1
wait_on_run design_1_blcd_driver_0_0_synth_1
refresh_design
set_property IOSTANDARD LVCMOS33 [get_ports [list {hall_in[2]} {hall_in[1]} {hall_in[0]}]]
set_property package_pin "" [get_ports [list  {hall_in[2]}]]
set_property IOSTANDARD LVCMOS33 [get_ports [list {encoder_pos_out[31]} {encoder_pos_out[30]} {encoder_pos_out[29]} {encoder_pos_out[28]} {encoder_pos_out[27]} {encoder_pos_out[26]} {encoder_pos_out[25]} {encoder_pos_out[24]} {encoder_pos_out[23]} {encoder_pos_out[22]} {encoder_pos_out[21]} {encoder_pos_out[20]} {encoder_pos_out[19]} {encoder_pos_out[18]} {encoder_pos_out[17]} {encoder_pos_out[16]} {encoder_pos_out[15]} {encoder_pos_out[14]} {encoder_pos_out[13]} {encoder_pos_out[12]} {encoder_pos_out[11]} {encoder_pos_out[10]} {encoder_pos_out[9]} {encoder_pos_out[8]} {encoder_pos_out[7]} {encoder_pos_out[6]} {encoder_pos_out[5]} {encoder_pos_out[4]} {encoder_pos_out[3]} {encoder_pos_out[2]} {encoder_pos_out[1]} {encoder_pos_out[0]}]]
place_ports U_in K13
set_property IOSTANDARD LVCMOS33 [get_ports [list U_in]]
set_property IOSTANDARD LVCMOS33 [get_ports [list raw_signal_increment]]
set_property IOSTANDARD LVCMOS33 [get_ports [list U_inh]]
set_property IOSTANDARD LVCMOS33 [get_ports [list raw_signal_decrement]]
set_property IOSTANDARD LVCMOS33 [get_ports [list V_in]]
set_property IOSTANDARD LVCMOS33 [get_ports [list V_inh]]
set_property IOSTANDARD LVCMOS33 [get_ports [list W_in]]
set_property IOSTANDARD LVCMOS33 [get_ports [list W_inh]]
place_ports U_inh J13
place_ports V_in K11
place_ports V_inh H14
place_ports W_in H11
place_ports W_inh H13
place_ports raw_signal_increment L15
place_ports raw_signal_decrement J15
place_ports {hall_in[0]} G11
place_ports {hall_in[1]} G12
place_ports {hall_in[0]} K15
place_ports {hall_in[1]} J14
place_ports {hall_in[2]} H12
set_property IOSTANDARD LVCMOS33 [get_ports [list reset]]
file mkdir /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/constrs_1/new
close [ open /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/constrs_1/new/user_constraints.xdc w ]
add_files -fileset constrs_1 /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/constrs_1/new/user_constraints.xdc
set_property target_constrs_file /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/constrs_1/new/user_constraints.xdc [current_fileset -constrset]
save_constraints -force
open_bd_design {/home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/bd/design_1/design_1.bd}
delete_bd_objs [get_bd_ports reset]
delete_bd_objs [get_bd_nets reset_1]
save_bd_design
make_wrapper -files [get_files /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/bd/design_1/design_1.bd] -top
open_bd_design {/home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/bd/design_1/design_1.bd}
close [ open /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/new/spi_master.vhd w ]
add_files /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/new/spi_master.vhd
update_compile_order -fileset sources_1
create_bd_cell -type module -reference spi_master spi_master_0
open_bd_design {/home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/bd/design_1/design_1.bd}
set_property location {3.5 1648 551} [get_bd_cells spi_master_0]
delete_bd_objs [get_bd_nets bldc_decoder_0_encoder_pos_out] [get_bd_ports encoder_pos_out]
set_property location {3.5 1447 547} [get_bd_cells spi_master_0]
connect_bd_net [get_bd_pins bldc_decoder_0/encoder_pos_out] [get_bd_pins spi_master_0/data]
connect_bd_net [get_bd_pins processing_system7_0/FCLK_CLK1] [get_bd_pins spi_master_0/clk]
startgroup
make_bd_pins_external  [get_bd_pins spi_master_0/spi_clk]
endgroup
startgroup
make_bd_pins_external  [get_bd_pins spi_master_0/output]
endgroup
startgroup
make_bd_pins_external  [get_bd_pins spi_master_0/output]
endgroup
startgroup
make_bd_pins_external  [get_bd_pins spi_master_0/output]
endgroup
startgroup
make_bd_pins_external  [get_bd_pins spi_master_0/output]
endgroup
update_module_reference design_1_spi_master_0_0
update_compile_order -fileset sources_1
startgroup
make_bd_pins_external  [get_bd_pins spi_master_0/mosi]
endgroup
save_bd_design
generate_target all [get_files /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/bd/design_1/design_1.bd]
create_ip_run [get_files -of_objects [get_fileset sources_1] /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/bd/design_1/design_1.bd]
launch_runs design_1_spi_master_0_0_synth_1
wait_on_run design_1_spi_master_0_0_synth_1
refresh_design
open_bd_design {/home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/bd/design_1/design_1.bd}
validate_bd_design -force
delete_bd_objs [get_bd_nets spi_master_0_spi_clk] [get_bd_ports spi_clk]
startgroup
make_bd_pins_external  [get_bd_pins spi_master_0/spi_clk]
endgroup
save_bd_design
validate_bd_design
save_bd_design
reset_run design_1_spi_master_0_0_synth_1
launch_runs design_1_spi_master_0_0_synth_1
wait_on_run design_1_spi_master_0_0_synth_1
generate_target all [get_files /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/bd/design_1/design_1.bd]
create_ip_run [get_files -of_objects [get_fileset sources_1] /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/bd/design_1/design_1.bd]
launch_runs design_1_spi_master_0_0_synth_1
wait_on_run design_1_spi_master_0_0_synth_1
refresh_design
open_bd_design {/home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/bd/design_1/design_1.bd}
delete_bd_objs [get_bd_nets spi_master_0_spi_clk] [get_bd_nets bldc_decoder_0_encoder_pos_out] [get_bd_nets spi_master_0_mosi] [get_bd_cells spi_master_0]
delete_bd_objs [get_bd_ports spi_clk]
delete_bd_objs [get_bd_ports mosi]
save_bd_design
generate_target all [get_files /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/bd/design_1/design_1.bd]
create_ip_run [get_files -of_objects [get_fileset sources_1] /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/bd/design_1/design_1.bd]
refresh_design
update_compile_order -fileset sources_1
create_ip_run [get_files -of_objects [get_fileset sources_1] /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/bd/design_1/design_1.bd]
refresh_design
open_bd_design {/home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/bd/design_1/design_1.bd}
create_bd_cell -type module -reference spi_master spi_master_0
set_property location {4 1444 552} [get_bd_cells spi_master_0]
connect_bd_net [get_bd_pins bldc_decoder_0/encoder_pos_out] [get_bd_pins spi_master_0/data]
connect_bd_net [get_bd_pins processing_system7_0/FCLK_CLK1] [get_bd_pins spi_master_0/clk]
startgroup
make_bd_pins_external  [get_bd_pins spi_master_0/spi_clk]
endgroup
startgroup
make_bd_pins_external  [get_bd_pins spi_master_0/mosi]
endgroup
save_bd_design
generate_target all [get_files /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/bd/design_1/design_1.bd]
create_ip_run [get_files -of_objects [get_fileset sources_1] /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/bd/design_1/design_1.bd]
launch_runs design_1_spi_master_0_0_synth_1
wait_on_run design_1_spi_master_0_0_synth_1
refresh_design
update_compile_order -fileset sources_1
launch_runs synth_1 -jobs 2
wait_on_run synth_1
reset_run synth_1
create_ip_run [get_files -of_objects [get_fileset sources_1] /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/bd/design_1/design_1.bd]
refresh_design
place_ports spi_clk M14
set_property IOSTANDARD LVCMOS33 [get_ports [list spi_clk]]
place_ports mosi P15
set_property IOSTANDARD LVCMOS33 [get_ports [list mosi]]
save_constraints
launch_runs synth_1 -jobs 2
wait_on_run synth_1
launch_runs impl_1 -jobs 2
reset_run impl_1
launch_runs impl_1 -jobs 2
close_design
open_run synth_1 -name synth_1
create_ip_run [get_files -of_objects [get_fileset sources_1] /home/frederik/Documents/Rob_Electronics/lab3/lab3.srcs/sources_1/bd/design_1/design_1.bd]
refresh_design
reset_run synth_1
launch_runs impl_1 -jobs 2
